


ARM Macro Assembler    Page 1 


    1 00000000         ; 本项目实现数码管显示(毫米), 接线方法
                       
    2 00000000         ; 把数码管的a~f和dp连接到PA0~7，1~4连至PA8~1
                       1   
    3 00000000         ; 超声波检测器：Trig接PA12，Echo接PA15，Vcc
                       3.3v，Gnd接地
    4 00000000         
    5 00000000 00010000 
                       PULL0DOWN
                               EQU              0x00010000  ; ODR0=0--PX0输入
                                                            下拉 (默认)  
                                                            里用于PB0
    6 00000000 00000001 
                       PULL0UP EQU              0x00000001  ; ODR0=1--PX0输入
                                                            上拉
    7 00000000         
    8 00000000 00000002 
                       LED2ON  EQU              0x00000002  ; GPIOX_BSRR:   bit
                                                            1=1---PX1 on
    9 00000000 00020000 
                       LED2OFF EQU              0x00020000  ; GPIOX_BSRR:  bit1
                                                            7=1---PX1 off
   10 00000000 00000038 
                       CFGB    EQU              0x0038      ; GPIOB配置：PB0
                                                            --下拉输入；PB
                                                            1--推挽输出(50M
                                                            Hz)；
   11 00000000         
   12 00000000 40010800 
                       GPIOA_BASE
                               EQU              0x40010800  ;GPIOA基地址
   13 00000000 40010800 
                       GPIOA_CRL
                               EQU              GPIOA_BASE  ;低配置寄存器
                                                            +
   14 00000000 40010804 
                       GPIOA_CRH
                               EQU              GPIOA_BASE+4 
                                                            ;高配置寄存器
                                                            
   15 00000000 40010808 
                       GPIOA_IDR
                               EQU              GPIOA_BASE+0x08 ;输入数据
                                                            存器
   16 00000000 4001080C 
                       GPIOA_ODR
                               EQU              GPIOA_BASE+0x0c ;输出数据
                                                            存器
   17 00000000 40010810 
                       GPIOA_BSRR
                               EQU              GPIOA_BASE+0x10 ;端口位置
                                                            /清除寄存器
   18 00000000 40010814 
                       GPIOA_BRR
                               EQU              GPIOA_BASE+0x14 ;端口位清
                                                            寄存器
   19 00000000         
   20 00000000 40010C00 
                       GPIOB_BASE



ARM Macro Assembler    Page 2 


                               EQU              0x40010c00  ;GPIOB基地址
   21 00000000 40010C00 
                       GPIOB_CRL
                               EQU              GPIOB_BASE+0x00 ;GPIOB低配置
                                                            寄存器
   22 00000000 40010C04 
                       GPIOB_CRH
                               EQU              GPIOB_BASE+0x04 ;GPIOB高配置
                                                            寄存器
   23 00000000 40010C08 
                       GPIOB_IDR
                               EQU              GPIOB_BASE+0x08 ;GPIOB输入数
                                                            据寄存器
   24 00000000 40010C0C 
                       GPIOB_ODR
                               EQU              GPIOB_BASE+0x0c ;GPIOB输出数
                                                            据寄存器
   25 00000000 40010C10 
                       GPIOB_BSRR
                               EQU              GPIOB_BASE+0x10 ;GPIOB位端口
                                                            置位/清零寄存
                                                            器
   26 00000000         
   27 00000000 33333333 
                       CFGAL   EQU              0x33333333  ;PA0~7：  推挽
                                                            出，50MHz
   28 00000000 40033333 
                       CFGAH   EQU              0x40033333  ;PA8~11： 推挽
                                                            出，50MHz    PA1
                                                            2；推挽输出，
                                                            50MHz  PA15：浮
                                                            输入
   29 00000000         
   30 00000000 40000000 
                       TIM2    EQU              0x40000000  ;TIM2基地址
   31 00000000 4000002C 
                       TIM2_ARR
                               EQU              TIM2+0x2c   ;自动装载寄存
                                                            器
   32 00000000 40000028 
                       TIM2_PSC
                               EQU              TIM2+0x28   ;预分频器
   33 00000000 4000000C 
                       TIM2_DIER
                               EQU              TIM2+0x0c   ;DMA/中断使能
                                                            存器
   34 00000000 40000000 
                       TIM2_CR1
                               EQU              TIM2+0x00   ;控制寄存器1
   35 00000000 40000010 
                       TIM2_SR EQU              TIM2+0x10   ;状态寄存器
   36 00000000 40000024 
                       TIM2_CNT
                               EQU              TIM2+0x24   ;计数寄存器
   37 00000000         
   38 00000000 40021018 
                       RCC_APB2ENR
                               EQU              0x40021018
   39 00000000 00000004 



ARM Macro Assembler    Page 3 


                       GIOPAEN EQU              0x00000004  ;GPIOA使能位
   40 00000000 00000008 
                       GIOPBEN EQU              0x00000008  ;RCC时钟GPIOB使
                                                            位 
   41 00000000 00000001 
                       AFIOEN  EQU              0x00000001  ;AFIO时钟使能
                                                             
   42 00000000 0000000D 
                       APB2ENALL
                               EQU              GIOPAEN :OR: GIOPBEN :OR: AFIOE
N
   43 00000000         
   44 00000000 4002101C 
                       RCC_APB1ENR
                               EQU              0x4002101c
   45 00000000 00000001 
                       TIM2EN  EQU              0x00000001  ;TIM2使能位
   46 00000000 00000001 
                       APB1ENALL
                               EQU              TIM2EN      ;可以:OR:其它
                                                            能位
   47 00000000         
   48 00000000 E000E100 
                       NVIC_ISER0
                               EQU              0xe000e100  ;NVIC中断设置
                                                            许寄存器
   49 00000000 10000000 
                       TIM2_ITEN
                               EQU              0x10000000
   50 00000000 10000000 
                       ITEN    EQU              TIM2_ITEN   ;可以:OR:其它
                                                            能位
   51 00000000         
   52 00000000 40010000 
                       AFIO_BASE
                               EQU              0x40010000
   53 00000000 40010008 
                       AFIO_EXTICR1
                               EQU              AFIO_BASE+0X08 ; 外部中断(E
                                                            XTI)配置寄存器
                                                            1
   54 00000000 00000001 
                       AFIO_EXTI0_PB
                               EQU              0x1         ; EXTI0选择PB0作
                                                            为输入
   55 00000000         
   56 00000000 40010400 
                       EXTI_BASE
                               EQU              0x40010400
   57 00000000 40010400 
                       EXTI_IMR
                               EQU              EXTI_BASE+0x00 ;EXTI中断屏
                                                            寄存器
   58 00000000 40010404 
                       EXTI_EMR
                               EQU              EXTI_BASE+0x04 ;EXTI事件屏
                                                            寄存器
   59 00000000 40010414 
                       EXTI_PR EQU              EXTI_BASE+0x14 ;EXTI挂起寄



ARM Macro Assembler    Page 4 


                                                            器
   60 00000000 40010408 
                       EXTI_RTSR
                               EQU              EXTI_BASE+0x08 ;EXTI上升沿
                                                            发选择寄存器
                                                            
   61 00000000 00000001 
                       RTSR_EXTI0
                               EQU              1           ;EXTI0选择上升
                                                            触发
   62 00000000         
   63 00000000 00000040 
                       EXTI0_ITEN
                               EQU              0x40        ;  允许EXTI0中
                                                            
   64 00000000         
   65 00000000 20002000 
                       STACK_TOP
                               EQU              0X20002000
   66 00000000         
   67 00000000                 AREA             MYDATA,DATA,READONLY ; AREA不
                                                            顶格写
   68 00000000 3F 06 5B 
              4F 66 6D 
              7D 07 7F 
              6F 77 7C 
              39 5E 79 
              71       CODES   DCB              0x3f,0x06,0x5b,0x4f,0x66,0x6d,0
x7d,0x07,0x7f,0x6f,0x77,0x7c,0x39,0x5e,0x79,0x71 
                                                            ; 数码管0~9,a~f
                                                            字模
   69 00000010 07 0B 0D 
              0E       DIGITPOS
                               DCB              0x07,0x0b,0x0d,0x0e ; 定位要
                                                            显示的数字：
                                                            0~3位为数码
                                                            4个数字的控
                                                            信号，为0则
                                                            示，否则不显
                                                            示
   70 00000014         
   71 00000014                 AREA             MYDATA2,DATA,READWRITE ; AREA
                                                            能顶格写(RAM,
                                                            动初始化为0)
                                                            
   72 00000000 00 00 00 
              00       DIGITS  DCB              0x00,0x00,0x00,0x00 ; 正在显
                                                            示的4个数字，
                                                            取值0~9
   73 00000004 00      CURSELECT
                               DCB              0x00        ; 当前显示哪
                                                            数字，取值0~3
                                                             
   74 00000005 00              DCB              0x00        ; padding
   75 00000006 00 00   DURATION
                               DCW              0x00
   76 00000008         
   77 00000008         
   78 00000008                 AREA             RESET,CODE,READONLY ; AREA不



ARM Macro Assembler    Page 5 


                                                            顶格写
   79 00000000 20002000        DCD              STACK_TOP   ; MSP主堆栈指
                                                            
   80 00000004 00000000        DCD              START       ; 复位，PC初始
                                                            值 
   81 00000008 00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00 00 
              00 00            SPACE            0x58-8      ;
   82 00000058 00000000        DCD              EXTI0_IRQHandler
   83 0000005C                 ENTRY                        ; 指示开始执
                                                            ,有了C文件，E
                                                            NTRY注释掉
   84 0000005C         START                                ; 所有的标号
                                                            须顶格写，且
                                                            无冒号
   85 0000005C         
   86 0000005C F7FF FFFE       BL               InitRamArea
   87 00000060 F000 F899       BL               RCC_CONFIG_72MHZ
   88 00000064         
   89 00000064         ; 设置RCC的APB2使能寄存器，启动GPIOA
   90 00000064 4987            LDR              R1, =RCC_APB2ENR ; 0X4002101C
   91 00000066 F04F 020D       LDR              R2, =APB2ENALL
   92 0000006A 600A            STR              R2, [R1]    ; 使能GPIOA,GPIOB
                                                            
   93 0000006C         
   94 0000006C         ; 设置RCC的APB1使能寄存器，启动定时器TIM2
   95 0000006C 4986            LDR              R1, =RCC_APB1ENR
   96 0000006E F04F 0201       LDR              R2, =APB1ENALL
   97 00000072 600A            STR              R2, [R1]
   98 00000074         
   99 00000074         ; 设置GPIO配置寄存器，令PA0~PA11设置为推挽
                       输出(50MHz)，P12为推挽输出(50MHz)，P15为浮空
                       输入
  100 00000074 F04F 3033       MOV              R0, #CFGAL
  101 00000078 4984            LDR              R1, =GPIOA_CRL



ARM Macro Assembler    Page 6 


  102 0000007A 6008            STR              R0, [R1]
  103 0000007C 4884            LDR              R0, =CFGAH
  104 0000007E 4985            LDR              R1, =GPIOA_CRH
  105 00000080 6008            STR              R0, [R1]
  106 00000082         
  107 00000082         
  108 00000082         ; 设置定时器TIM2的重装载寄存器
  109 00000082 F242 700F       MOV              R0, #(10000-1)
  110 00000086 4984            LDR              R1, =TIM2_ARR
  111 00000088 6008            STR              R0, [R1]
  112 0000008A         
  113 0000008A         ; 设置定时器TIM2的分频器
  114 0000008A F641 401F       MOV              R0, #(7200-1)
  115 0000008E 4983            LDR              R1, =TIM2_PSC
  116 00000090 6008            STR              R0, [R1]
  117 00000092         
  118 00000092         ; 设置定时器TIM2的DMA/中断允许寄存器 
  119 00000092 F04F 0000       MOV              R0, #0      ;0-禁止中断 1-
                                                            许中断
  120 00000096 4982            LDR              R1, =TIM2_DIER
  121 00000098 6008            STR              R0, [R1]
  122 0000009A         
  123 0000009A         ; 设置NVIC中断设置允许寄存器(ISER)
  124 0000009A F04F 5080       LDR              R0, =ITEN
  125 0000009E 4981            LDR              R1, =NVIC_ISER0
  126 000000A0 6008            STR              R0, [R1]
  127 000000A2         
  128 000000A2         ;设置定时器配置寄存器:启动计数
  129 000000A2 F04F 0001       MOV              R0, #1
  130 000000A6 F04F 4180       LDR              R1, =TIM2_CR1
  131 000000AA 6008            STR              R0, [R1]
  132 000000AC         
  133 000000AC         ; 设置AFIO的EXTI配置寄存器：把PB0连至EXTI0
  134 000000AC F04F 0001       MOV              R0, #AFIO_EXTI0_PB
  135 000000B0 497D            LDR              R1, =AFIO_EXTICR1
  136 000000B2 6008            STR              R0, [R1]
  137 000000B4         
  138 000000B4         ; 设置EXTI中断屏蔽寄存器：允许EXTI0中断
  139 000000B4 F04F 0001       MOV              R0, #1
  140 000000B8 497C            LDR              R1, =EXTI_IMR
  141 000000BA 6008            STR              R0, [R1]
  142 000000BC         
  143 000000BC         ; 设置事件屏蔽寄存器：允许EXTI0事件中断
  144 000000BC F04F 0001       MOV              R0, #1
  145 000000C0 497B            LDR              R1, =EXTI_EMR
  146 000000C2 6008            STR              R0, [R1]
  147 000000C4         
  148 000000C4         ; 设置EXTI上升沿触发设置寄存器：EXTI0采用
                       上升沿触发
  149 000000C4 F04F 0001       MOV              R0, #RTSR_EXTI0
  150 000000C8 497A            LDR              R1, =EXTI_RTSR
  151 000000CA 6008            STR              R0, [R1]
  152 000000CC         
  153 000000CC         ; 设置NVIC的中断设置允许寄存器(ISER)：允
                       EXTI0
  154 000000CC F04F 0040       MOV              R0, #EXTI0_ITEN ;第6位
  155 000000D0 4974            LDR              R1, =NVIC_ISER0
  156 000000D2 6008            STR              R0, [R1]
  157 000000D4         



ARM Macro Assembler    Page 7 


  158 000000D4         ;设置GPIOB低配置寄存器：PB.0 下拉输入
  159 000000D4 F04F 0038       MOV              R0, #CFGB
  160 000000D8 4977            LDR              R1, =GPIOB_CRL
  161 000000DA 6008            STR              R0, [R1]
  162 000000DC 4977            LDR              R1, =GPIOB_BSRR
  163 000000DE F44F 3280       LDR              R2, =PULL0DOWN
  164 000000E2 600A            STR              R2, [R1]
  165 000000E4         
  166 000000E4         ; 将PB.1输出高电平
  167 000000E4 4975            LDR              R1, =GPIOB_BSRR
  168 000000E6 F04F 0202       LDR              R2, =LED2ON
  169 000000EA 600A            STR              R2, [R1]
  170 000000EC         
  171 000000EC F7FF FFFE       BL               HandleSound ;
  172 000000F0 F7FF FFFE       BL               StoreToDigitsByHex
  173 000000F4         
  174 000000F4         LOOP
  175 000000F4 F7FF FFFE       BL               ShowDigits  ;
  176 000000F8 E7FC            B                LOOP
  177 000000FA         
  178 000000FA         ;PA12-输出，PA15-输入
  179 000000FA         HandleSound
                               PROC
  180 000000FA B5F3            PUSH             {R0,R1,R4,R5,R6,R7,LR}
  181 000000FC 4D70            LDR              R5,=GPIOA_BSRR
  182 000000FE F04F 5680       LDR              R6,=0x10000000 ;PA12 <- 0
  183 00000102 602E            STR              R6,[R5]
  184 00000104 F44F 5680       LDR              R6,=0x1000  ;PA12 <- 1
  185 00000108 602E            STR              R6,[R5]
  186 0000010A F7FF FFFE       BL               Delay
  187 0000010E F04F 5680       LDR              R6,=0x10000000 ;PA12 <- 0
  188 00000112 602E            STR              R6,[R5]
  189 00000114         
  190 00000114         
  191 00000114 4D6B            LDR              R5,=GPIOA_IDR
  192 00000116         HSLOOP
  193 00000116 682E            LDR              R6,[R5]
  194 00000118 F416 4F00       TST              R6, #0x8000 ;PA15=0？
  195 0000011C D0FB            BEQ              HSLOOP
  196 0000011E         
  197 0000011E         
  198 0000011E 4D6A            LDR              R5,=TIM2_CNT
  199 00000120 682F            LDR              R7,[R5]
  200 00000122         
  201 00000122 4D68            LDR              R5,=GPIOA_IDR
  202 00000124         HSLOOP2
  203 00000124 682E            LDR              R6,[R5]
  204 00000126 F416 4F00       TST              R6, #0x8000 ;PA15=1？
  205 0000012A D1FB            BNE              HSLOOP2
  206 0000012C         
  207 0000012C 4D66            LDR              R5,=TIM2_CNT
  208 0000012E 682E            LDR              R6,[R5]
  209 00000130         
  210 00000130 EBA6 0607       SUB              R6,R7
  211 00000134         
  212 00000134 F04F 0511       MOV              R5,#17
  213 00000138 FB06 F705       MUL              R7,R6,R5
  214 0000013C 4D63            LDR              R5, =DURATION ;
  215 0000013E 802F            STRH             R7,[R5]



ARM Macro Assembler    Page 8 


  216 00000140 BDF3            POP              {R0,R1,R4,R5,R6,R7,PC}
  217 00000142                 ENDP
  218 00000142         
  219 00000142         StoreToDigitsByHex
                               PROC
  220 00000142 B5F3            PUSH             {R0,R1,R4,R5,R6,R7,LR}
  221 00000144 4D61            LDR              R5, =DURATION ;
  222 00000146 882E            LDRH             R6,[R5]
  223 00000148         
  224 00000148 4D61            LDR              R5, =DIGITS ;
  225 0000014A         
  226 0000014A F006 070F       AND              R7,R6,#0x000f
  227 0000014E 702F            STRB             R7,[R5,#0]
  228 00000150         
  229 00000150 EA4F 1616       LSR              R6,R6,#4
  230 00000154 F006 070F       AND              R7,R6,#0x000f
  231 00000158 706E            STRB             R6,[R5,#1]
  232 0000015A         
  233 0000015A EA4F 1616       LSR              R6,R6,#4
  234 0000015E F006 070F       AND              R7,R6,#0x000f
  235 00000162 70AE            STRB             R6,[R5,#2]
  236 00000164         
  237 00000164 EA4F 1616       LSR              R6,R6,#4
  238 00000168 F006 070F       AND              R7,R6,#0x000f
  239 0000016C 70EE            STRB             R6,[R5,#3]
  240 0000016E         
  241 0000016E         
  242 0000016E BDF3            POP              {R0,R1,R4,R5,R6,R7,PC}
  243 00000170                 ENDP
  244 00000170         
  245 00000170         StoreToDigitsByDec
                               PROC
  246 00000170 B5F3            PUSH             {R0,R1,R4,R5,R6,R7,LR}
  247 00000172         
  248 00000172 BDF3            POP              {R0,R1,R4,R5,R6,R7,PC}
  249 00000174                 ENDP
  250 00000174         
  251 00000174         
  252 00000174         Delay   PROC
  253 00000174 B507            PUSH             {R0,R1,R2,LR}
  254 00000176         
  255 00000176 2000            MOVS             R0,#0
  256 00000178 2100            MOVS             R1,#0
  257 0000017A 2200            MOVS             R2,#0
  258 0000017C         
  259 0000017C         DelayLoop0
  260 0000017C 1C40            ADDS             R0,R0,#1
  261 0000017E         
  262 0000017E 280A            CMP              R0,#10
  263 00000180 D3FC            BCC              DelayLoop0
  264 00000182         
  265 00000182 2000            MOVS             R0,#0
  266 00000184 1C49            ADDS             R1,R1,#1
  267 00000186 290A            CMP              R1,#10
  268 00000188 D3F8            BCC              DelayLoop0
  269 0000018A         
  270 0000018A 2000            MOVS             R0,#0
  271 0000018C 2100            MOVS             R1,#0
  272 0000018E 1C52            ADDS             R2,R2,#1



ARM Macro Assembler    Page 9 


  273 00000190 2A0F            CMP              R2,#15
  274 00000192 D3F3            BCC              DelayLoop0
  275 00000194 BD07            POP              {R0,R1,R2,PC}
  276 00000196                 ENDP
  277 00000196         
  278 00000196         ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
  279 00000196         ;;;RCC  时钟配置 HCLK=72MHz=HSE*9
  280 00000196         ;;;PCLK2=HCLK  PCLK1=HCLK/2
  281 00000196         ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
  282 00000196         RCC_CONFIG_72MHZ
  283 00000196 494F            LDR              R1,=0X40021000 ;RCC_CR
  284 00000198 6808            LDR              R0,[R1]
  285 0000019A F44F 3280       LDR              R2,=0X00010000 ;HSEON
  286 0000019E EA40 0002       ORR              R0,R2
  287 000001A2 6008            STR              R0,[R1]
  288 000001A4         WAIT_HSE_RDY
  289 000001A4 F44F 3200       LDR              R2,=0X00020000 ;HSERDY
  290 000001A8 6808            LDR              R0,[R1]
  291 000001AA 4010            ANDS             R0,R2
  292 000001AC 2800            CMP              R0,#0
  293 000001AE D0F9            BEQ              WAIT_HSE_RDY
  294 000001B0 4949            LDR              R1,=0X40022000 ;FLASH_ACR
  295 000001B2 F04F 0012       MOV              R0,#0X12
  296 000001B6 6008            STR              R0,[R1]
  297 000001B8 4948            LDR              R1,=0X40021004 ;RCC_CFGR时钟
                                                            置寄存器
  298 000001BA 6808            LDR              R0,[R1]
  299 000001BC         ;PLL倍频系数,PCLK2,PCLK1分频设置
  300 000001BC         ;HSE 9倍频PCLK2=HCLK,PCLK1=HCLK/2
  301 000001BC         ;HCLK=72MHz 0x001D0400
  302 000001BC         ;HCLK=64MHz 0x00190400
  303 000001BC         ;HCLK=48MHz 0x00110400
  304 000001BC         ;HCLK=32MHz 0x00090400
  305 000001BC         ;HCLK=24MHz 0x00050400
  306 000001BC         ;HCLK=16MHz 0x00010400
  307 000001BC 4A48            LDR              R2,=0x001D0400
  308 000001BE EA40 0002       ORR              R0,R2
  309 000001C2 6008            STR              R0,[R1]
  310 000001C4 4943            LDR              R1,=0X40021000 ;RCC_CR  
  311 000001C6 6808            LDR              R0,[R1]
  312 000001C8 F04F 7280       LDR              R2,=0X01000000 ;PLLON
  313 000001CC EA40 0002       ORR              R0,R2
  314 000001D0 6008            STR              R0,[R1]
  315 000001D2         WAIT_PLL_RDY
  316 000001D2 F04F 7200       LDR              R2,=0X02000000 ;PLLRDY
  317 000001D6 6808            LDR              R0,[R1]
  318 000001D8 4010            ANDS             R0,R2
  319 000001DA 2800            CMP              R0,#0
  320 000001DC D0F9            BEQ              WAIT_PLL_RDY
  321 000001DE 493F            LDR              R1,=0X40021004 ;RCC_CFGR
  322 000001E0 6808            LDR              R0,[R1]
  323 000001E2 F04F 0202       MOV              R2,#0X02
  324 000001E6 EA40 0002       ORR              R0,R2
  325 000001EA 6008            STR              R0,[R1]
  326 000001EC         WAIT_HCLK_USEPLL
  327 000001EC 6808            LDR              R0,[R1]
  328 000001EE F010 0008       ANDS             R0,#0X08
  329 000001F2 2808            CMP              R0,#0X08
  330 000001F4 D1FA            BNE              WAIT_HCLK_USEPLL



ARM Macro Assembler    Page 10 


  331 000001F6 4770            BX               LR
  332 000001F8         
  333 000001F8         ; 所有RAM(MYDATA2)中的数据必须进行初始化
  334 000001F8         InitRamArea
                               PROC
  335 000001F8 B560            PUSH             {R5,R6,LR}
  336 000001FA         
  337 000001FA         ; 初始化CURSELECT
  338 000001FA 4D3A            LDR              R5,=CURSELECT
  339 000001FC F04F 0600       MOV              R6,#0
  340 00000200 702E            STRB             R6,[R5]
  341 00000202         
  342 00000202         ; 初始化DIGITS
  343 00000202 4D33            LDR              R5,=DIGITS
  344 00000204 F04F 0600       MOV              R6,#0
  345 00000208 70EE            STRB             R6,[R5,#3]
  346 0000020A 70AE            STRB             R6,[R5,#2]
  347 0000020C 706E            STRB             R6,[R5,#1]
  348 0000020E 702E            STRB             R6,[R5,#0]
  349 00000210         
  350 00000210 BD60            POP              {R5,R6,PC}
  351 00000212                 ENDP
  352 00000212         
  353 00000212         ; 每次显示下一个数字(由CURSELECT指出)
  354 00000212         ShowDigits
                               PROC
  355 00000212 B5F0            PUSH             {R4,R5,R6,R7,LR}
  356 00000214         
  357 00000214         ; 确定下一个当前要显示的数字
  358 00000214 4D33            LDR              R5,=CURSELECT
  359 00000216 782E            LDRB             R6,[R5]
  360 00000218 F106 0601       ADD              R6,#1       ; 每个数字4个
                                                            节
  361 0000021C 2E04            CMP              R6,#4
  362 0000021E D101            BNE              SGNEXT
  363 00000220 F04F 0600       MOV              R6,#0
  364 00000224         SGNEXT
  365 00000224 702E            STRB             R6,[R5]
  366 00000226         
  367 00000226         ; 取出字模
  368 00000226 4D2A            LDR              R5,=DIGITS
  369 00000228 5D77            LDRB             R7,[R6,R5]
  370 0000022A 4D2F            LDR              R5, =CODES
  371 0000022C 5DEF            LDRB             R7,[R5,R7]
  372 0000022E         
  373 0000022E         ; 形成数字控制线
  374 0000022E 4D2F            LDR              R5,=DIGITPOS
  375 00000230 5DAC            LDRB             R4,[R5,R6]
  376 00000232 EA4F 2404       LSL              R4,R4,#8
  377 00000236 4427            ADD              R7,R4
  378 00000238         
  379 00000238         ; 把数据输出到PA0~11
  380 00000238 4D2D            LDR              R5, =GPIOA_ODR
  381 0000023A 602F            STR              R7,[R5]
  382 0000023C BDF0            POP              {R4,R5,R6,R7,PC}
  383 0000023E                 ENDP
  384 0000023E         
  385 0000023E         TIM2_IRQHandler
                               PROC



ARM Macro Assembler    Page 11 


  386 0000023E B507            PUSH             {R0,R1,R2,LR}
  387 00000240         
  388 00000240 492C            LDR              R1, =TIM2_SR
  389 00000242 F04F 0200       MOV              R2, #0      ; 清除更新事
                                                            状态位
  390 00000246 600A            STR              R2,[R1]
  391 00000248         
  392 00000248 BD07            POP              {R0,R1,R2,PC}
  393 0000024A                 ENDP
  394 0000024A         
  395 0000024A         EXTI0_IRQHandler
                               PROC
  396 0000024A B507            PUSH             {R0,R1,R2,LR}
  397 0000024C         
  398 0000024C 492A            LDR              R1, =GPIOB_ODR
  399 0000024E 680A            LDR              R2, [R1]    ; 读入PA.2的输
                                                            
  400 00000250 F012 0F02       TST              R2,#0x2
  401 00000254 D008            BEQ              TURNON      ; 如果为0，则
                                                            亮
  402 00000256 4919            LDR              R1, =GPIOB_BSRR
  403 00000258 F44F 3200       MOV              R2,#LED2OFF ;    否则，灯
                                                               
  404 0000025C F7FF FFFE       BL               HandleSound ;
  405 00000260 F7FF FFFE       BL               StoreToDigitsByHex
  406 00000264 600A            STR              R2, [R1]    ; 将PA.2输出低
                                                            平
  407 00000266 E007            B                EX
  408 00000268         TURNON
  409 00000268 4914            LDR              R1, =GPIOB_BSRR
  410 0000026A F04F 0202       LDR              R2, =LED2ON ; 将PA.2输出高
                                                            平
  411 0000026E F7FF FFFE       BL               HandleSound ;
  412 00000272 F7FF FFFE       BL               StoreToDigitsByHex
  413 00000276 600A            STR              R2, [R1]
  414 00000278         EX
  415 00000278 4920            LDR              R1, =EXTI_PR
  416 0000027A F04F 0201       MOV              R2, #1      ; 清除EXTI0的触
                                                            发请求
  417 0000027E 600A            STR              R2,[R1]
  418 00000280         
  419 00000280 BD07            POP              {R0,R1,R2,PC}
  420 00000282                 ENDP
  421 00000282         
  422 00000282                 END
              00 00 40021018 
              4002101C 
              40010800 
              40033333 
              40010804 
              4000002C 
              40000028 
              4000000C 
              E000E100 
              40010008 
              40010400 
              40010404 
              40010408 
              40010C00 



ARM Macro Assembler    Page 12 


              40010C10 
              40010810 
              40010808 
              40000024 
              00000000 
              00000000 
              40021000 
              40022000 
              40021004 
              001D0400 
              00000000 
              00000000 
              00000000 
              4001080C 
              40000010 
              40010C0C 
              40010414 
Command Line: --debug --xref --diag_suppress=9931 --cpu=Cortex-M3 --apcs=interw
ork --depend=.\objects\startup_stm32f10x_md.d -o.\objects\startup_stm32f10x_md.
o -I.\RTE\_Target_1 -I"D:\arm os\ARM\PACK\Keil\STM32F1xx_DFP\2.3.0\Device\Inclu
de" -I"D:\arm os\ARM\CMSIS\Include" --predefine="__UVISION_VERSION SETA 525" --
predefine="STM32F10X_MD SETA 1" --list=.\listings\startup_stm32f10x_md.lst ..\S
TART\startup_stm32f10x_md.s



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

CODES 00000000

Symbol: CODES
   Definitions
      At line 68 in file ..\START\startup_stm32f10x_md.s
   Uses
      At line 370 in file ..\START\startup_stm32f10x_md.s
Comment: CODES used once
DIGITPOS 00000010

Symbol: DIGITPOS
   Definitions
      At line 69 in file ..\START\startup_stm32f10x_md.s
   Uses
      At line 374 in file ..\START\startup_stm32f10x_md.s
Comment: DIGITPOS used once
MYDATA 00000000

Symbol: MYDATA
   Definitions
      At line 67 in file ..\START\startup_stm32f10x_md.s
   Uses
      None
Comment: MYDATA unused
3 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

CURSELECT 00000004

Symbol: CURSELECT
   Definitions
      At line 73 in file ..\START\startup_stm32f10x_md.s
   Uses
      At line 338 in file ..\START\startup_stm32f10x_md.s
      At line 358 in file ..\START\startup_stm32f10x_md.s

DIGITS 00000000

Symbol: DIGITS
   Definitions
      At line 72 in file ..\START\startup_stm32f10x_md.s
   Uses
      At line 224 in file ..\START\startup_stm32f10x_md.s
      At line 343 in file ..\START\startup_stm32f10x_md.s
      At line 368 in file ..\START\startup_stm32f10x_md.s

DURATION 00000006

Symbol: DURATION
   Definitions
      At line 75 in file ..\START\startup_stm32f10x_md.s
   Uses
      At line 214 in file ..\START\startup_stm32f10x_md.s
      At line 221 in file ..\START\startup_stm32f10x_md.s

MYDATA2 00000000

Symbol: MYDATA2
   Definitions
      At line 71 in file ..\START\startup_stm32f10x_md.s
   Uses
      None
Comment: MYDATA2 unused
4 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

Delay 00000174

Symbol: Delay
   Definitions
      At line 252 in file ..\START\startup_stm32f10x_md.s
   Uses
      At line 186 in file ..\START\startup_stm32f10x_md.s
Comment: Delay used once
DelayLoop0 0000017C

Symbol: DelayLoop0
   Definitions
      At line 259 in file ..\START\startup_stm32f10x_md.s
   Uses
      At line 263 in file ..\START\startup_stm32f10x_md.s
      At line 268 in file ..\START\startup_stm32f10x_md.s
      At line 274 in file ..\START\startup_stm32f10x_md.s

EX 00000278

Symbol: EX
   Definitions
      At line 414 in file ..\START\startup_stm32f10x_md.s
   Uses
      At line 407 in file ..\START\startup_stm32f10x_md.s
Comment: EX used once
EXTI0_IRQHandler 0000024A

Symbol: EXTI0_IRQHandler
   Definitions
      At line 395 in file ..\START\startup_stm32f10x_md.s
   Uses
      At line 82 in file ..\START\startup_stm32f10x_md.s
Comment: EXTI0_IRQHandler used once
HSLOOP 00000116

Symbol: HSLOOP
   Definitions
      At line 192 in file ..\START\startup_stm32f10x_md.s
   Uses
      At line 195 in file ..\START\startup_stm32f10x_md.s
Comment: HSLOOP used once
HSLOOP2 00000124

Symbol: HSLOOP2
   Definitions
      At line 202 in file ..\START\startup_stm32f10x_md.s
   Uses
      At line 205 in file ..\START\startup_stm32f10x_md.s
Comment: HSLOOP2 used once
HandleSound 000000FA

Symbol: HandleSound
   Definitions
      At line 179 in file ..\START\startup_stm32f10x_md.s
   Uses
      At line 171 in file ..\START\startup_stm32f10x_md.s
      At line 404 in file ..\START\startup_stm32f10x_md.s
      At line 411 in file ..\START\startup_stm32f10x_md.s



ARM Macro Assembler    Page 2 Alphabetic symbol ordering
Relocatable symbols


InitRamArea 000001F8

Symbol: InitRamArea
   Definitions
      At line 334 in file ..\START\startup_stm32f10x_md.s
   Uses
      At line 86 in file ..\START\startup_stm32f10x_md.s
Comment: InitRamArea used once
LOOP 000000F4

Symbol: LOOP
   Definitions
      At line 174 in file ..\START\startup_stm32f10x_md.s
   Uses
      At line 176 in file ..\START\startup_stm32f10x_md.s
Comment: LOOP used once
RCC_CONFIG_72MHZ 00000196

Symbol: RCC_CONFIG_72MHZ
   Definitions
      At line 282 in file ..\START\startup_stm32f10x_md.s
   Uses
      At line 87 in file ..\START\startup_stm32f10x_md.s
Comment: RCC_CONFIG_72MHZ used once
RESET 00000000

Symbol: RESET
   Definitions
      At line 78 in file ..\START\startup_stm32f10x_md.s
   Uses
      None
Comment: RESET unused
SGNEXT 00000224

Symbol: SGNEXT
   Definitions
      At line 364 in file ..\START\startup_stm32f10x_md.s
   Uses
      At line 362 in file ..\START\startup_stm32f10x_md.s
Comment: SGNEXT used once
START 0000005C

Symbol: START
   Definitions
      At line 84 in file ..\START\startup_stm32f10x_md.s
   Uses
      At line 80 in file ..\START\startup_stm32f10x_md.s
Comment: START used once
ShowDigits 00000212

Symbol: ShowDigits
   Definitions
      At line 354 in file ..\START\startup_stm32f10x_md.s
   Uses
      At line 175 in file ..\START\startup_stm32f10x_md.s
Comment: ShowDigits used once
StoreToDigitsByDec 00000170




ARM Macro Assembler    Page 3 Alphabetic symbol ordering
Relocatable symbols

Symbol: StoreToDigitsByDec
   Definitions
      At line 245 in file ..\START\startup_stm32f10x_md.s
   Uses
      None
Comment: StoreToDigitsByDec unused
StoreToDigitsByHex 00000142

Symbol: StoreToDigitsByHex
   Definitions
      At line 219 in file ..\START\startup_stm32f10x_md.s
   Uses
      At line 172 in file ..\START\startup_stm32f10x_md.s
      At line 405 in file ..\START\startup_stm32f10x_md.s
      At line 412 in file ..\START\startup_stm32f10x_md.s

TIM2_IRQHandler 0000023E

Symbol: TIM2_IRQHandler
   Definitions
      At line 385 in file ..\START\startup_stm32f10x_md.s
   Uses
      None
Comment: TIM2_IRQHandler unused
TURNON 00000268

Symbol: TURNON
   Definitions
      At line 408 in file ..\START\startup_stm32f10x_md.s
   Uses
      At line 401 in file ..\START\startup_stm32f10x_md.s
Comment: TURNON used once
WAIT_HCLK_USEPLL 000001EC

Symbol: WAIT_HCLK_USEPLL
   Definitions
      At line 326 in file ..\START\startup_stm32f10x_md.s
   Uses
      At line 330 in file ..\START\startup_stm32f10x_md.s
Comment: WAIT_HCLK_USEPLL used once
WAIT_HSE_RDY 000001A4

Symbol: WAIT_HSE_RDY
   Definitions
      At line 288 in file ..\START\startup_stm32f10x_md.s
   Uses
      At line 293 in file ..\START\startup_stm32f10x_md.s
Comment: WAIT_HSE_RDY used once
WAIT_PLL_RDY 000001D2

Symbol: WAIT_PLL_RDY
   Definitions
      At line 315 in file ..\START\startup_stm32f10x_md.s
   Uses
      At line 320 in file ..\START\startup_stm32f10x_md.s
Comment: WAIT_PLL_RDY used once
21 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Absolute symbols

AFIOEN 00000001

Symbol: AFIOEN
   Definitions
      At line 41 in file ..\START\startup_stm32f10x_md.s
   Uses
      At line 42 in file ..\START\startup_stm32f10x_md.s
Comment: AFIOEN used once
AFIO_BASE 40010000

Symbol: AFIO_BASE
   Definitions
      At line 52 in file ..\START\startup_stm32f10x_md.s
   Uses
      At line 53 in file ..\START\startup_stm32f10x_md.s
Comment: AFIO_BASE used once
AFIO_EXTI0_PB 00000001

Symbol: AFIO_EXTI0_PB
   Definitions
      At line 54 in file ..\START\startup_stm32f10x_md.s
   Uses
      At line 134 in file ..\START\startup_stm32f10x_md.s
Comment: AFIO_EXTI0_PB used once
AFIO_EXTICR1 40010008

Symbol: AFIO_EXTICR1
   Definitions
      At line 53 in file ..\START\startup_stm32f10x_md.s
   Uses
      At line 135 in file ..\START\startup_stm32f10x_md.s
Comment: AFIO_EXTICR1 used once
APB1ENALL 00000001

Symbol: APB1ENALL
   Definitions
      At line 46 in file ..\START\startup_stm32f10x_md.s
   Uses
      At line 96 in file ..\START\startup_stm32f10x_md.s
Comment: APB1ENALL used once
APB2ENALL 0000000D

Symbol: APB2ENALL
   Definitions
      At line 42 in file ..\START\startup_stm32f10x_md.s
   Uses
      At line 91 in file ..\START\startup_stm32f10x_md.s
Comment: APB2ENALL used once
CFGAH 40033333

Symbol: CFGAH
   Definitions
      At line 28 in file ..\START\startup_stm32f10x_md.s
   Uses
      At line 103 in file ..\START\startup_stm32f10x_md.s
Comment: CFGAH used once
CFGAL 33333333

Symbol: CFGAL



ARM Macro Assembler    Page 2 Alphabetic symbol ordering
Absolute symbols

   Definitions
      At line 27 in file ..\START\startup_stm32f10x_md.s
   Uses
      At line 100 in file ..\START\startup_stm32f10x_md.s
Comment: CFGAL used once
CFGB 00000038

Symbol: CFGB
   Definitions
      At line 10 in file ..\START\startup_stm32f10x_md.s
   Uses
      At line 159 in file ..\START\startup_stm32f10x_md.s
Comment: CFGB used once
EXTI0_ITEN 00000040

Symbol: EXTI0_ITEN
   Definitions
      At line 63 in file ..\START\startup_stm32f10x_md.s
   Uses
      At line 154 in file ..\START\startup_stm32f10x_md.s
Comment: EXTI0_ITEN used once
EXTI_BASE 40010400

Symbol: EXTI_BASE
   Definitions
      At line 56 in file ..\START\startup_stm32f10x_md.s
   Uses
      At line 57 in file ..\START\startup_stm32f10x_md.s
      At line 58 in file ..\START\startup_stm32f10x_md.s
      At line 59 in file ..\START\startup_stm32f10x_md.s
      At line 60 in file ..\START\startup_stm32f10x_md.s

EXTI_EMR 40010404

Symbol: EXTI_EMR
   Definitions
      At line 58 in file ..\START\startup_stm32f10x_md.s
   Uses
      At line 145 in file ..\START\startup_stm32f10x_md.s
Comment: EXTI_EMR used once
EXTI_IMR 40010400

Symbol: EXTI_IMR
   Definitions
      At line 57 in file ..\START\startup_stm32f10x_md.s
   Uses
      At line 140 in file ..\START\startup_stm32f10x_md.s
Comment: EXTI_IMR used once
EXTI_PR 40010414

Symbol: EXTI_PR
   Definitions
      At line 59 in file ..\START\startup_stm32f10x_md.s
   Uses
      At line 415 in file ..\START\startup_stm32f10x_md.s
Comment: EXTI_PR used once
EXTI_RTSR 40010408

Symbol: EXTI_RTSR



ARM Macro Assembler    Page 3 Alphabetic symbol ordering
Absolute symbols

   Definitions
      At line 60 in file ..\START\startup_stm32f10x_md.s
   Uses
      At line 150 in file ..\START\startup_stm32f10x_md.s
Comment: EXTI_RTSR used once
GIOPAEN 00000004

Symbol: GIOPAEN
   Definitions
      At line 39 in file ..\START\startup_stm32f10x_md.s
   Uses
      At line 42 in file ..\START\startup_stm32f10x_md.s
Comment: GIOPAEN used once
GIOPBEN 00000008

Symbol: GIOPBEN
   Definitions
      At line 40 in file ..\START\startup_stm32f10x_md.s
   Uses
      At line 42 in file ..\START\startup_stm32f10x_md.s
Comment: GIOPBEN used once
GPIOA_BASE 40010800

Symbol: GPIOA_BASE
   Definitions
      At line 12 in file ..\START\startup_stm32f10x_md.s
   Uses
      At line 13 in file ..\START\startup_stm32f10x_md.s
      At line 14 in file ..\START\startup_stm32f10x_md.s
      At line 15 in file ..\START\startup_stm32f10x_md.s
      At line 16 in file ..\START\startup_stm32f10x_md.s
      At line 17 in file ..\START\startup_stm32f10x_md.s
      At line 18 in file ..\START\startup_stm32f10x_md.s

GPIOA_BRR 40010814

Symbol: GPIOA_BRR
   Definitions
      At line 18 in file ..\START\startup_stm32f10x_md.s
   Uses
      None
Comment: GPIOA_BRR unused
GPIOA_BSRR 40010810

Symbol: GPIOA_BSRR
   Definitions
      At line 17 in file ..\START\startup_stm32f10x_md.s
   Uses
      At line 181 in file ..\START\startup_stm32f10x_md.s
Comment: GPIOA_BSRR used once
GPIOA_CRH 40010804

Symbol: GPIOA_CRH
   Definitions
      At line 14 in file ..\START\startup_stm32f10x_md.s
   Uses
      At line 104 in file ..\START\startup_stm32f10x_md.s
Comment: GPIOA_CRH used once
GPIOA_CRL 40010800



ARM Macro Assembler    Page 4 Alphabetic symbol ordering
Absolute symbols


Symbol: GPIOA_CRL
   Definitions
      At line 13 in file ..\START\startup_stm32f10x_md.s
   Uses
      At line 101 in file ..\START\startup_stm32f10x_md.s
Comment: GPIOA_CRL used once
GPIOA_IDR 40010808

Symbol: GPIOA_IDR
   Definitions
      At line 15 in file ..\START\startup_stm32f10x_md.s
   Uses
      At line 191 in file ..\START\startup_stm32f10x_md.s
      At line 201 in file ..\START\startup_stm32f10x_md.s

GPIOA_ODR 4001080C

Symbol: GPIOA_ODR
   Definitions
      At line 16 in file ..\START\startup_stm32f10x_md.s
   Uses
      At line 380 in file ..\START\startup_stm32f10x_md.s
Comment: GPIOA_ODR used once
GPIOB_BASE 40010C00

Symbol: GPIOB_BASE
   Definitions
      At line 20 in file ..\START\startup_stm32f10x_md.s
   Uses
      At line 21 in file ..\START\startup_stm32f10x_md.s
      At line 22 in file ..\START\startup_stm32f10x_md.s
      At line 23 in file ..\START\startup_stm32f10x_md.s
      At line 24 in file ..\START\startup_stm32f10x_md.s
      At line 25 in file ..\START\startup_stm32f10x_md.s

GPIOB_BSRR 40010C10

Symbol: GPIOB_BSRR
   Definitions
      At line 25 in file ..\START\startup_stm32f10x_md.s
   Uses
      At line 162 in file ..\START\startup_stm32f10x_md.s
      At line 167 in file ..\START\startup_stm32f10x_md.s
      At line 402 in file ..\START\startup_stm32f10x_md.s
      At line 409 in file ..\START\startup_stm32f10x_md.s

GPIOB_CRH 40010C04

Symbol: GPIOB_CRH
   Definitions
      At line 22 in file ..\START\startup_stm32f10x_md.s
   Uses
      None
Comment: GPIOB_CRH unused
GPIOB_CRL 40010C00

Symbol: GPIOB_CRL
   Definitions



ARM Macro Assembler    Page 5 Alphabetic symbol ordering
Absolute symbols

      At line 21 in file ..\START\startup_stm32f10x_md.s
   Uses
      At line 160 in file ..\START\startup_stm32f10x_md.s
Comment: GPIOB_CRL used once
GPIOB_IDR 40010C08

Symbol: GPIOB_IDR
   Definitions
      At line 23 in file ..\START\startup_stm32f10x_md.s
   Uses
      None
Comment: GPIOB_IDR unused
GPIOB_ODR 40010C0C

Symbol: GPIOB_ODR
   Definitions
      At line 24 in file ..\START\startup_stm32f10x_md.s
   Uses
      At line 398 in file ..\START\startup_stm32f10x_md.s
Comment: GPIOB_ODR used once
ITEN 10000000

Symbol: ITEN
   Definitions
      At line 50 in file ..\START\startup_stm32f10x_md.s
   Uses
      At line 124 in file ..\START\startup_stm32f10x_md.s
Comment: ITEN used once
LED2OFF 00020000

Symbol: LED2OFF
   Definitions
      At line 9 in file ..\START\startup_stm32f10x_md.s
   Uses
      At line 403 in file ..\START\startup_stm32f10x_md.s
Comment: LED2OFF used once
LED2ON 00000002

Symbol: LED2ON
   Definitions
      At line 8 in file ..\START\startup_stm32f10x_md.s
   Uses
      At line 168 in file ..\START\startup_stm32f10x_md.s
      At line 410 in file ..\START\startup_stm32f10x_md.s

NVIC_ISER0 E000E100

Symbol: NVIC_ISER0
   Definitions
      At line 48 in file ..\START\startup_stm32f10x_md.s
   Uses
      At line 125 in file ..\START\startup_stm32f10x_md.s
      At line 155 in file ..\START\startup_stm32f10x_md.s

PULL0DOWN 00010000

Symbol: PULL0DOWN
   Definitions
      At line 5 in file ..\START\startup_stm32f10x_md.s



ARM Macro Assembler    Page 6 Alphabetic symbol ordering
Absolute symbols

   Uses
      At line 163 in file ..\START\startup_stm32f10x_md.s
Comment: PULL0DOWN used once
PULL0UP 00000001

Symbol: PULL0UP
   Definitions
      At line 6 in file ..\START\startup_stm32f10x_md.s
   Uses
      None
Comment: PULL0UP unused
RCC_APB1ENR 4002101C

Symbol: RCC_APB1ENR
   Definitions
      At line 44 in file ..\START\startup_stm32f10x_md.s
   Uses
      At line 95 in file ..\START\startup_stm32f10x_md.s
Comment: RCC_APB1ENR used once
RCC_APB2ENR 40021018

Symbol: RCC_APB2ENR
   Definitions
      At line 38 in file ..\START\startup_stm32f10x_md.s
   Uses
      At line 90 in file ..\START\startup_stm32f10x_md.s
Comment: RCC_APB2ENR used once
RTSR_EXTI0 00000001

Symbol: RTSR_EXTI0
   Definitions
      At line 61 in file ..\START\startup_stm32f10x_md.s
   Uses
      At line 149 in file ..\START\startup_stm32f10x_md.s
Comment: RTSR_EXTI0 used once
STACK_TOP 20002000

Symbol: STACK_TOP
   Definitions
      At line 65 in file ..\START\startup_stm32f10x_md.s
   Uses
      At line 79 in file ..\START\startup_stm32f10x_md.s
Comment: STACK_TOP used once
TIM2 40000000

Symbol: TIM2
   Definitions
      At line 30 in file ..\START\startup_stm32f10x_md.s
   Uses
      At line 31 in file ..\START\startup_stm32f10x_md.s
      At line 32 in file ..\START\startup_stm32f10x_md.s
      At line 33 in file ..\START\startup_stm32f10x_md.s
      At line 34 in file ..\START\startup_stm32f10x_md.s
      At line 35 in file ..\START\startup_stm32f10x_md.s
      At line 36 in file ..\START\startup_stm32f10x_md.s

TIM2EN 00000001

Symbol: TIM2EN



ARM Macro Assembler    Page 7 Alphabetic symbol ordering
Absolute symbols

   Definitions
      At line 45 in file ..\START\startup_stm32f10x_md.s
   Uses
      At line 46 in file ..\START\startup_stm32f10x_md.s
Comment: TIM2EN used once
TIM2_ARR 4000002C

Symbol: TIM2_ARR
   Definitions
      At line 31 in file ..\START\startup_stm32f10x_md.s
   Uses
      At line 110 in file ..\START\startup_stm32f10x_md.s
Comment: TIM2_ARR used once
TIM2_CNT 40000024

Symbol: TIM2_CNT
   Definitions
      At line 36 in file ..\START\startup_stm32f10x_md.s
   Uses
      At line 198 in file ..\START\startup_stm32f10x_md.s
      At line 207 in file ..\START\startup_stm32f10x_md.s

TIM2_CR1 40000000

Symbol: TIM2_CR1
   Definitions
      At line 34 in file ..\START\startup_stm32f10x_md.s
   Uses
      At line 130 in file ..\START\startup_stm32f10x_md.s
Comment: TIM2_CR1 used once
TIM2_DIER 4000000C

Symbol: TIM2_DIER
   Definitions
      At line 33 in file ..\START\startup_stm32f10x_md.s
   Uses
      At line 120 in file ..\START\startup_stm32f10x_md.s
Comment: TIM2_DIER used once
TIM2_ITEN 10000000

Symbol: TIM2_ITEN
   Definitions
      At line 49 in file ..\START\startup_stm32f10x_md.s
   Uses
      At line 50 in file ..\START\startup_stm32f10x_md.s
Comment: TIM2_ITEN used once
TIM2_PSC 40000028

Symbol: TIM2_PSC
   Definitions
      At line 32 in file ..\START\startup_stm32f10x_md.s
   Uses
      At line 115 in file ..\START\startup_stm32f10x_md.s
Comment: TIM2_PSC used once
TIM2_SR 40000010

Symbol: TIM2_SR
   Definitions
      At line 35 in file ..\START\startup_stm32f10x_md.s



ARM Macro Assembler    Page 8 Alphabetic symbol ordering
Absolute symbols

   Uses
      At line 388 in file ..\START\startup_stm32f10x_md.s
Comment: TIM2_SR used once
49 symbols
411 symbols in table
